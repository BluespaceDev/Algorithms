# 최단 경로 알고리즘

## BFS와 차이
BFS도 가장 작은 경로를 찾는 건 동일함.  
BFS의 경우에는 간선의 갯수가 작은 경로를 구함. (간선의 가중치가 없거나 같을 경우 동작)  
최단 경로 알고리즘의 경우는 가중치가 있어서 간선의 갯수가 아니라 가중치가 작은 경로를 구함.  

## 음의 간선의 중요성
최단 경로를 구할 때 음의 사이클이 있을 경우에 사이클을 반복하면 작아짐.  
음의 사이클이 없는 경우에 최단 경로 가능.  

## 특징
1. 최단 경로의 부분 경로는 최단 경로이다.
2. 순환 경로는 포함하지 않는다. (최대 V-1개 간선)  
3. 최단 경로 그래프는 루트를 가진 트리 모양.  (도달 가능한 집합)  

## 완화 (Relax)
s~>v 최단 경로 가중치의 상한이 되도록 유지.  
최단 경로 추정값과 선행자(부모)를 갱신하는 유일한 수단.  

### 알고리즘
완화 횟수와 순서는 각 알고리즘마다 다름.  (다익스트라 완화횟수:1, 벨만포드:여러번)  
최단 경로를 구할 때 완화 순서만 잘 해주면 됨.  
DAG의 경우 위상정렬 순서대로 완화하면 O(V+E)에 가능.  

### 완화의 특성
- 삼각부등식  
d(s,v) <= d(s,u)+w(u,v)  

- 상한 특성
d[v] >= 𝛅(s,v), 불변성(완화 중 어떤 순서에도 성립)  
d[v] = 𝛅(s,v)가 되면, 더 이상 갱신하지 않음.  
완화는 d의 값을 증가시키지 않음.  

- 무경로 특성  
경로가 없으면 d[v] = 𝛅(s,v)= ∞  

- 수렴 특성  
"s~>u->v가 최단 경로" 일때, 완화가 차례대로 되면,  
d[u] = 𝛅(s,u) 이후 d[v] = 𝛅(s,v)이다.  

- 경로 완화 특성  
최단 경로 P = <v1, v2, ... , vn>  
(v1,v2), (v2,v3), ..., (vk-1, vk)으로 완화가 되면 d[vk] = 𝛅(s,vk)가 된다.  
다른 간선 완화와 무관 - 상한특성.  
간선을 섞어도 무관 - 수렴특성.  

<details>
<summary>증명보기</summary>
<div markdown="1">
<img src="pictures/relax_right_1.png">
</div>
</details>

## 최단 경로 트리
relax할 때, 선행자 갱신함.  (상한특성에 의해 최단 경로가 되면 더 이상 갱신 하지 않음).  
s~>v까지 경로는 최대 1개.  